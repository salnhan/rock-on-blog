<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Rockon Blogs</title>
  
  <subtitle>RoB</subtitle>
  <link href="/rockon-blog/atom.xml" rel="self"/>
  
  <link href="https://salnhan.github.io/"/>
  <updated>2019-07-28T18:12:29.303Z</updated>
  <id>https://salnhan.github.io/</id>
  
  <author>
    <name>salnhan (MT Nhan)</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Extends TYPO3 extbase model or controller</title>
    <link href="https://salnhan.github.io/2019/07/16/extbase-model-expand/"/>
    <id>https://salnhan.github.io/2019/07/16/extbase-model-expand/</id>
    <published>2019-07-16T19:51:03.000Z</published>
    <updated>2019-07-28T18:12:29.303Z</updated>
    
    <content type="html"><![CDATA[<p>If you have to override or extend Extbase model or controller, you should do following steps</p><img src="https://typo3.org/typo3conf/ext/t3olayout/Resources/Public/Images/Template/typo3_nomargins.svg" class="logo-icon" width="352" height="72" title="typo3 logo"><hr><h3 id="Extend-controller"><a href="#Extend-controller" class="headerlink" title="Extend controller"></a>Extend controller</h3><figure class="highlight php"><figcaption><span>Create new extbase controller NewController.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">namespace</span> <span class="title">Extension</span>\<span class="title">Name</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">NewController</span> <span class="keyword">extends</span> \<span class="title">Extension</span>\<span class="title">Original</span>\<span class="title">Controller</span>\<span class="title">OldController</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *  new action</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> null</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">newAction</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <figure class="highlight ts"><figcaption><span>Register controller via TypoScript setup.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">config.tx_extbase &#123;</span><br><span class="line">    objects &#123;</span><br><span class="line">        \Extension\Original\Controller\OldController &#123;</span><br><span class="line">            className = Extension\Name\Controller\NewController</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Extend-model"><a href="#Extend-model" class="headerlink" title="Extend model"></a>Extend model</h3><p>Add new field <code>field_color</code> to model <code>tx_extname_domain_model_modelname</code></p><figure class="highlight sql"><figcaption><span>Add new field to ext_tables.sql</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tx_extname_domain_model_modelname (</span><br><span class="line"> field_color <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">''</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight php"><figcaption><span>Create a new model class ModelName.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Extension</span>\<span class="title">Name</span>\<span class="title">Domain</span>\<span class="title">Model</span>\<span class="title">ModelName</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModelName</span> <span class="keyword">extends</span> \<span class="title">Extension</span>\<span class="title">Original</span>\<span class="title">Domain</span>\<span class="title">Model</span>\<span class="title">ModelName</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    *<span class="doctag">@param</span> string</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    fieldColor = <span class="string">''</span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getFieldColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;fieldColor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> string</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">setFieldColor</span><span class="params">($color)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;fieldColor = $color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ts"><figcaption><span>Register new model via TypoScript</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">config.tx_extbase &#123;</span><br><span class="line">    objects &#123;</span><br><span class="line">        Extension\Original\Domain\Model\ModelName &#123;</span><br><span class="line">            className = Extension\Name\Domain\Model\ModelName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    persistence &#123;</span><br><span class="line">        classes &#123;</span><br><span class="line">            Extension\Name\Domain\Model\ModelName &#123;</span><br><span class="line">                mapping &#123;</span><br><span class="line">                    tableName = tx_extname_domain_model_modelname</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;If you have to override or extend Extbase model or controller, you should do following steps&lt;/p&gt;
&lt;img src=&quot;https://typo3.org/typo3conf/ex
      
    
    </summary>
    
      <category term="TYPO3" scheme="https://salnhan.github.io/categories/TYPO3/"/>
    
    
      <category term="TYPO3" scheme="https://salnhan.github.io/tags/TYPO3/"/>
    
      <category term="Extbase" scheme="https://salnhan.github.io/tags/Extbase/"/>
    
      <category term="Domain" scheme="https://salnhan.github.io/tags/Domain/"/>
    
      <category term="Model" scheme="https://salnhan.github.io/tags/Model/"/>
    
      <category term="Controller" scheme="https://salnhan.github.io/tags/Controller/"/>
    
  </entry>
  
  <entry>
    <title>PHP Sort by name with Umlauts</title>
    <link href="https://salnhan.github.io/2019/06/20/sort-by-name/"/>
    <id>https://salnhan.github.io/2019/06/20/sort-by-name/</id>
    <published>2019-06-20T10:15:48.000Z</published>
    <updated>2019-06-20T18:36:32.640Z</updated>
    
    <content type="html"><![CDATA[<p>Assuming you have an array like this</p><figure class="highlight php"><figcaption><span>multi dimensional array php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Ausschuss der Finanzen</span><br><span class="line">            [<span class="number">1</span>] =&gt; Ältestenrat</span><br><span class="line">            [<span class="number">2</span>] =&gt; Rechtsausschuss</span><br><span class="line">            [<span class="number">3</span>] =&gt; Prüfungsausschuss</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Vorstand</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>And you want the sort the elements in $arrayBeforeSorting alphabetically like</p><figure class="highlight php"><figcaption><span>multi dimensional array php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Ältestenrat</span><br><span class="line">            [<span class="number">1</span>] =&gt; Ausschuss der Finanzen</span><br><span class="line">            [<span class="number">2</span>] =&gt; Prüfungsausschuss</span><br><span class="line">            [<span class="number">3</span>] =&gt; Rechtsausschuss</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Vorstand</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Here ist a possible solution</p><figure class="highlight php"><figcaption><span>array sort php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Sort array alphabetically</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> array $arrayBeforeSorting</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNameByAlphabet</span><span class="params">(array $arrayBeforeSorting)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $arrayAfterSorting = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> ($arrayBeforeSorting <span class="keyword">as</span> $nameList) &#123;</span><br><span class="line">        <span class="comment">// If more than 2 elements do sorting</span></span><br><span class="line">        <span class="keyword">if</span> (count($nameList) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            array_multisort(convertSpecialCharacters($nameList), SORT_ASC, SORT_STRING, $nameList);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $arrayAfterSorting[] = $nameList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $arrayAfterSorting;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Convert german special characters (umlaut) to alphabet characters</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> array $nameList</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertSpecialCharacters</span><span class="params">($nameList)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $toConvertList = [<span class="string">'Ä'</span>=&gt; <span class="string">'Ae'</span>, <span class="string">'Ö'</span> =&gt; <span class="string">'Oe'</span>, <span class="string">'Ü'</span> =&gt; <span class="string">'Ue'</span>, <span class="string">'ä'</span> =&gt; <span class="string">'ae'</span>, <span class="string">'ö'</span> =&gt; <span class="string">'oe'</span>, <span class="string">'ü'</span> =&gt; <span class="string">'ue'</span>, <span class="string">'ß'</span> =&gt; <span class="string">'ss'</span>];</span><br><span class="line">    $converted = [];</span><br><span class="line">    <span class="keyword">foreach</span> ($nameList <span class="keyword">as</span> $name) &#123;</span><br><span class="line">        $converted [] =&gt; strtr($name, $toConvertList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $converted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Test</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">$arrayBeforeSorting = [</span><br><span class="line">[</span><br><span class="line"><span class="string">'Ausschuss der Finanzen'</span>,</span><br><span class="line"><span class="string">'Ältestenrat'</span>,</span><br><span class="line"><span class="string">'Rechtsausschuss'</span>,</span><br><span class="line"><span class="string">'Prüfungsausschuss'</span></span><br><span class="line">],</span><br><span class="line">[</span><br><span class="line"><span class="string">'Vorstand'</span></span><br><span class="line">]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"Array before sorting \n"</span>;</span><br><span class="line">print_r ($arrayBeforeSorting);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"Array after sorting \n"</span>;</span><br><span class="line">print_r(sortNameByAlphabet($arrayBeforeSorting));</span><br></pre></td></tr></table></figure><p><strong><em>Remark</em></strong></p><ul><li>The PHP Code above works in PHP Version <strong>5</strong> and <strong>7</strong>. </li><li>You can copy the code above the paste it to the <a href="http://sandbox.onlinephpfunctions.com/" target="_blank" rel="noopener">php sandbox</a> for testing.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Assuming you have an array like this&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;figcaption&gt;&lt;span&gt;multi dimensional array php&lt;/span&gt;&lt;/figcaption&gt;&lt;
      
    
    </summary>
    
      <category term="backend" scheme="https://salnhan.github.io/categories/backend/"/>
    
    
      <category term="PHP" scheme="https://salnhan.github.io/tags/PHP/"/>
    
      <category term="Sorting" scheme="https://salnhan.github.io/tags/Sorting/"/>
    
      <category term="multi array" scheme="https://salnhan.github.io/tags/multi-array/"/>
    
  </entry>
  
  <entry>
    <title>Redirect to maintenance page with nginx</title>
    <link href="https://salnhan.github.io/2019/05/30/redirect-to-503-page-with-nginx/"/>
    <id>https://salnhan.github.io/2019/05/30/redirect-to-503-page-with-nginx/</id>
    <published>2019-05-30T10:16:31.000Z</published>
    <updated>2019-05-30T21:20:40.675Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Scenario:</strong> you want to inform clients that the website temporary out of service because of down for maintenance, here’s the (not entirely intuitive) way to do that in Nginx.</p><img src="http://nginx.org/nginx.png" class="logo-icon" width="352" height="72" title="nginx logo"><p>&nbsp;</p><p><strong>Gain:</strong> With following solution,  whenever you need to take your site offline, simply create the file 503 Service Unavailable HTML Page in the root diretory. If the file exists, Nginx will serve it with a 503 status code, if not, it will proceed as usual.</p><h4 id="I-Create-a-custom-503-Service-Unavailable-HTML-Page"><a href="#I-Create-a-custom-503-Service-Unavailable-HTML-Page" class="headerlink" title="I. Create a custom 503 Service Unavailable HTML Page"></a>I. Create a custom 503 Service Unavailable HTML Page</h4><p>First, you need to create a custom http 503 page at website root directory</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /var/www/htdocs/mysite/maintenance.html</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Error 503 Service Unavailable<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>503 Service Unavailable<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    Our apologies for the temporary inconvenience. The requested URL generated 503 "Service Unavailable" error due to overloading or maintenance of the server. </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&nbsp;</p><h4 id="II-Update-Nginx-Configuration"><a href="#II-Update-Nginx-Configuration" class="headerlink" title="II. Update Nginx Configuration"></a>II. Update Nginx Configuration</h4><p>Edit <code>/etc/nginx/config/nginx.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/nginx/config/nginx.conf</span><br></pre></td></tr></table></figure><p>Update configuration as follows</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen        80;</span><br><span class="line">        server_name   mysite.com;</span><br><span class="line">        root          /var/www/htdocs/mysite/;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            <span class="keyword">if</span> (-f <span class="variable">$document_root</span>/maintenance.html) &#123;</span><br><span class="line">                <span class="built_in">return</span> 503;</span><br><span class="line">           &#125;</span><br><span class="line">            ... <span class="comment"># the rest of your config goes here</span></span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">        error_page 503 @maintenance;</span><br><span class="line">        location @maintenance &#123;</span><br><span class="line">                rewrite ^(.*)$ /maintenance.html <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Finally reload the nginx web server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># reload instead of restart</span></span><br><span class="line">$ service nginx reload</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Scenario:&lt;/strong&gt; you want to inform clients that the website temporary out of service because of down for maintenance, here’s t
      
    
    </summary>
    
      <category term="infrastructure" scheme="https://salnhan.github.io/categories/infrastructure/"/>
    
    
      <category term="nginx" scheme="https://salnhan.github.io/tags/nginx/"/>
    
      <category term="503" scheme="https://salnhan.github.io/tags/503/"/>
    
      <category term="redirect" scheme="https://salnhan.github.io/tags/redirect/"/>
    
  </entry>
  
  <entry>
    <title>Common CKAN administrator tasks</title>
    <link href="https://salnhan.github.io/2018/11/18/ckan-common-tasks/"/>
    <id>https://salnhan.github.io/2018/11/18/ckan-common-tasks/</id>
    <published>2018-11-18T13:20:32.000Z</published>
    <updated>2019-06-18T21:15:44.072Z</updated>
    
    <content type="html"><![CDATA[<p>The majority of common CKAN administration tasks are carried out using the <strong>paster</strong> script.</p><p>Paster is run on the command line on the server running CKAN. This section covers <em>common tasks using paster</em></p><h4 id="Activating-of-VirtualEnv"><a href="#Activating-of-VirtualEnv" class="headerlink" title="Activating of VirtualEnv"></a>Activating of VirtualEnv</h4><p>Before excuting paster script, must the <strong>VirtualEnv</strong> be activated</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># activate VirtualEnv</span></span><br><span class="line">. /usr/lib/ckan/default/bin/activate</span><br></pre></td></tr></table></figure><p>For the full list of tasks supported by paster, you can run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paster --plugin=ckan --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><h4 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Before running CKAN for the first time,</span></span><br><span class="line"><span class="comment"># run db init to create the tables in the database and the default authorization settings</span></span><br><span class="line">paster --plugin=ckan db init -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete everything in the database, including the tables, to start from scratch</span></span><br><span class="line">paster --plugin=ckan db clean -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># upgrade migration</span></span><br><span class="line">paster --plugin=ckan db upgrade -c /etc/ckan/production.ini</span><br></pre></td></tr></table></figure><h4 id="User-Create-and-manage-users"><a href="#User-Create-and-manage-users" class="headerlink" title="User - Create and manage users"></a>User - Create and manage users</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create user</span></span><br><span class="line">paster --plugin=ckan user add admin -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># Give sysadmin rights</span></span><br><span class="line">paster --plugin=ckan sysadmin add admin -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete user</span></span><br><span class="line">paster --plugin=ckan user remove admin -c /etc/ckan/production.ini</span><br></pre></td></tr></table></figure><h4 id="Rebuild-search-index"><a href="#Rebuild-search-index" class="headerlink" title="Rebuild search index"></a>Rebuild search index</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># reindex all datasets</span></span><br><span class="line">paster --plugin=ckan search-index rebuild -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># reindex only one dataset dataset_name</span></span><br><span class="line">paster --plugin=ckan search-index rebuild dataset-name -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># reindex only datasets, which are not already indexed</span></span><br><span class="line">paster --plugin=ckan search-index rebuild -o -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># don’t rebuild the whole index, but just refresh it</span></span><br><span class="line">paster --plugin=ckan search-index rebuild -r -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># checks for datasets not indexed</span></span><br><span class="line">paster --plugin=ckan search-index check -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># shows index of a dataset</span></span><br><span class="line">paster --plugin=ckan search-index show &lt;dataset_name&gt; -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># clears the search index for the provided dataset or for the whole ckan instance</span></span><br><span class="line">paster --plugin=ckan search-index clear [dataset_name] -c /etc/ckan/production.ini</span><br></pre></td></tr></table></figure><h4 id="Harvester"><a href="#Harvester" class="headerlink" title="Harvester"></a>Harvester</h4><p>Harvest sources must be created via web interface</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shows all harvest source with source id</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester sources -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># create harvest job for an harvest source</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester job &#123;source_id&#125; -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment">## remove all datasets and harvest jobs a harvest source</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester clearsource &#123;source_id&#125; -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove a harvest source</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester rmsource &#123;source_id&#125; -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># excutes harvest jobs - harvesting</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester run -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># gather data from harvest jobs</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester gather_consumer -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># Running after gather_consumer</span></span><br><span class="line"><span class="comment"># fetch and insert data from gather_consumer to database</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester fetch_consumer -c /etc/ckan/production.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># cleans queue of gather_consumer and fetch_consumer</span></span><br><span class="line">paster --plugin=ckanext-harvest harvester purge_queues -c /etc/ckan/production.ini</span><br></pre></td></tr></table></figure><p><strong><em>Links</em></strong></p><ul><li><a href="https://docs.ckan.org/en/ckan-1.7.4/paster.html" target="_blank" rel="noopener">CKAN Documentation</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;The majority of common CKAN administration tasks are carried out using the &lt;strong&gt;paster&lt;/strong&gt; script.&lt;/p&gt;
&lt;p&gt;Paster is run on the co
      
    
    </summary>
    
      <category term="ckan" scheme="https://salnhan.github.io/categories/ckan/"/>
    
    
      <category term="ckan" scheme="https://salnhan.github.io/tags/ckan/"/>
    
      <category term="cli" scheme="https://salnhan.github.io/tags/cli/"/>
    
      <category term="paster" scheme="https://salnhan.github.io/tags/paster/"/>
    
  </entry>
  
  <entry>
    <title>Working with Gulp</title>
    <link href="https://salnhan.github.io/2018/09/04/work-with-gulp/"/>
    <id>https://salnhan.github.io/2018/09/04/work-with-gulp/</id>
    <published>2018-09-04T08:32:24.000Z</published>
    <updated>2019-07-16T19:12:28.587Z</updated>
    
    <content type="html"><![CDATA[<p>Gulp is a powerful tool to automate any tasks during the web development like minify css or recompile js or css files automatically if any changes.</p><h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><ul><li><a href="#Installation">Installation</a></li><li><a href="#Gulp-component">Gulp component</a></li><li><a href="#Using-Gulp-task">Using Gulp task</a></li><li><a href="#Refesh-browser-automatically">Refresh browser automatically</a></li><li><a href="#Minify-css-js">Minify css, js</a></li></ul><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p>Run following npm task</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp --save-dev</span><br></pre></td></tr></table></figure><p>In package.json gulp with current version  will be inserted.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"hexo"</span>: &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"3.7.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.4"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.3"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.3.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^0.3.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.2.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"gulp"</span>: <span class="string">"^3.9.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Gulp-component"><a href="#Gulp-component" class="headerlink" title="Gulp component"></a>Gulp component</h3><p>Gulp tasks will be defined in <code>Gulpfile.js</code><br>A Gulpfile.js contains following components;</p><ul><li><code>gulp.task</code>: gulp task</li><li><code>gulp.src</code>: source of file</li><li><code>gulp.dest</code>: destination of endfile</li><li><code>gulp.watch</code>: watching the change of file</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'task_one'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  gulp.src(<span class="string">'./js/*.js'</span>)</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/js'</span>));</span><br><span class="line"></span><br><span class="line">  gulp.src(<span class="string">'./css/*.css'</span>)</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'watch_name'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    gulp.watch(<span class="string">'/css/*.css'</span>,  [<span class="string">'task_css'</span>])</span><br><span class="line">    gulp.watch(<span class="string">'/js/*.js'</span>,  [<span class="string">'task_js'</span>])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.watch(<span class="string">'js/**/*.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'File '</span> + event.path + <span class="string">' was '</span> + event.type + <span class="string">', running tasks...'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="Using-Gulp-task"><a href="#Using-Gulp-task" class="headerlink" title="Using Gulp task"></a>Using Gulp task</h3><p>To run a gulp task</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gulp task_one</span><br><span class="line">$ gulp watch_name</span><br></pre></td></tr></table></figure><h3 id="Refesh-browser-automatically"><a href="#Refesh-browser-automatically" class="headerlink" title="Refesh browser automatically"></a>Refesh browser automatically</h3><p>To refresh the browser automatically after recompile the css or js file should the npm package <code>browser-sync</code> be installed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install browser-sync --save-dev</span><br></pre></td></tr></table></figure><p>Config in Gulpfile.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create();</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'serve'</span>, [], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    browserSync.init(&#123;</span><br><span class="line">        server: &#123;</span><br><span class="line">            baseDir: <span class="string">'.'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    gulp.watch(<span class="string">"*.html"</span>).on(<span class="string">'change'</span>, browserSync.reload);</span><br><span class="line">    gulp.watch([<span class="string">'assets/js/*.js'</span>], browserSync.reload);</span><br><span class="line">    gulp.watch([<span class="string">'assets/css/*.css'</span>], browserSync.reload);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'serve'</span>]);</span><br></pre></td></tr></table></figure><h3 id="Minify-css-js"><a href="#Minify-css-js" class="headerlink" title="Minify css, js"></a>Minify css, js</h3><p>To minify css, js should the package <code>gulp-minify</code> and <code>gulp-minify-css</code> be installed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp-minify-css --save-dev</span><br><span class="line">npm install gulp-minify --save-dev</span><br></pre></td></tr></table></figure><p>Config in Gulpfile.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'compress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  /config minify js</span><br><span class="line">  gulp.src(<span class="string">'assets/js/*.js'</span>) <span class="comment">//path to folder of js file</span></span><br><span class="line">    .pipe(minify(&#123;</span><br><span class="line">        exclude: [<span class="string">'tasks'</span>],</span><br><span class="line">        ignoreFiles: [<span class="string">'-min.js'</span>] <span class="comment">//ignore files</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/js'</span>)); <span class="comment">//path to folder to contain js file after minify</span></span><br><span class="line">  <span class="comment">//config minify css</span></span><br><span class="line">  gulp.src(<span class="string">'assets/css/*.css'</span>) <span class="comment">///path to folder of css file</span></span><br><span class="line">    .pipe(minifyCss(&#123;<span class="attr">compatibility</span>: <span class="string">'ie8'</span>&#125;))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>)); <span class="comment">//path to folder to contain css file after minify</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Gulp is a powerful tool to automate any tasks during the web development like minify css or recompile js or css files automatically if an
      
    
    </summary>
    
      <category term="frontend" scheme="https://salnhan.github.io/categories/frontend/"/>
    
    
      <category term="frontend" scheme="https://salnhan.github.io/tags/frontend/"/>
    
      <category term="gulp" scheme="https://salnhan.github.io/tags/gulp/"/>
    
  </entry>
  
  <entry>
    <title>Useful docker commands</title>
    <link href="https://salnhan.github.io/2018/08/05/useful-docker-commands/"/>
    <id>https://salnhan.github.io/2018/08/05/useful-docker-commands/</id>
    <published>2018-08-05T10:46:28.000Z</published>
    <updated>2019-06-20T16:08:33.360Z</updated>
    
    <content type="html"><![CDATA[<p>There are about billion of docker commands. In this article will the important and useful commands be hightlighted.</p><img src="https://www.univention.de/wp-content/uploads/2018/12/190618-docker-logo-blog-header-713x178.png" class="logo-icon" width="400" height="120" title="docker logo"><h3 id="Docker-compose"><a href="#Docker-compose" class="headerlink" title="Docker-compose"></a>Docker-compose</h3><figure class="highlight docker"><figcaption><span>docker-compose.yml</span><a href="https://github.com/salnhan/docker_persistence_stack/blob/develop/docker-compose.yml]" target="_blank" rel="noopener">Docker-compose file</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">'3.3'</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  mongo:</span><br><span class="line">    container_name: mongo_db</span><br><span class="line">    image: mongo:latest</span><br><span class="line">    <span class="keyword">user</span>: <span class="string">"$&#123;UID_GID&#125;"</span></span><br><span class="line">    volumes:</span><br><span class="line">       - ./data/mongo:/data/mongo</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">"27017:27017"</span></span><br><span class="line">    networks:</span><br><span class="line">      - persistence</span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  redis:</span><br><span class="line">    container_name: redis_db</span><br><span class="line">    build:</span><br><span class="line">      context: dockerfiles/redis</span><br><span class="line">      dockerfile: Dockerfile</span><br><span class="line">    command: [<span class="string">"redis-server"</span>, <span class="string">"--append-only"</span>, <span class="string">"yes"</span>]</span><br><span class="line">    volumes:</span><br><span class="line">      - ./data/redis:/data/redis</span><br><span class="line">    <span class="keyword">user</span>: <span class="string">"$&#123;UID_GID&#125;"</span></span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">"6379:6379"</span></span><br><span class="line">    networks:</span><br><span class="line">      - persistence</span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  postgresql:</span><br><span class="line">    container_name: postgresql_db</span><br><span class="line">    build:</span><br><span class="line">      context: dockerfiles/postgres</span><br><span class="line">      dockerfile: Dockerfile</span><br><span class="line">    environment:</span><br><span class="line">      POSTGRES_USER: ckan_default</span><br><span class="line">      POSTGRES_PASSWORD: pass</span><br><span class="line">      POSTGRES_DB: ckan_default</span><br><span class="line">      LANG: de_DE.utf8</span><br><span class="line">    volumes:</span><br><span class="line">      - type: <span class="keyword">volume</span><span class="bash"></span></span><br><span class="line"><span class="bash">      - <span class="built_in">source</span>: data_postgres_db</span></span><br><span class="line"><span class="bash">      - target: /data/postgres</span></span><br><span class="line"><span class="bash">    ports:</span></span><br><span class="line"><span class="bash">      - <span class="string">"5432:5432"</span></span></span><br><span class="line"><span class="bash">    networks:</span></span><br><span class="line"><span class="bash">      - persistence</span></span><br><span class="line"><span class="bash">    restart: always</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">  mysql:</span></span><br><span class="line"><span class="bash">    container_name: mysql_db</span></span><br><span class="line"><span class="bash">    image: mysql:5.7</span></span><br><span class="line"><span class="bash">    volumes:</span></span><br><span class="line"><span class="bash">      - <span class="built_in">type</span>: volume</span></span><br><span class="line"><span class="bash">      - <span class="built_in">source</span>: data_mysql_db</span></span><br><span class="line"><span class="bash">      - target: /data/postgres</span></span><br><span class="line"><span class="bash">    ports:</span></span><br><span class="line"><span class="bash">      - <span class="string">"3306:3306"</span></span></span><br><span class="line"><span class="bash">    environment:</span></span><br><span class="line"><span class="bash">      - MYSQL_ROOT_PASSWORD: <span class="string">'justapassword'</span></span></span><br><span class="line"><span class="bash">    networks:</span></span><br><span class="line"><span class="bash">    - persistence</span></span><br><span class="line"><span class="bash">    restart: always</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">networks:</span></span><br><span class="line"><span class="bash">  persistence:</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">volumes:</span></span><br><span class="line"><span class="bash">  data_postgres_db:</span></span><br><span class="line"><span class="bash">  data_mysql_db:</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><figcaption><span>docker-compose commands</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start all docker containers (services) in docker-compose file</span></span><br><span class="line"><span class="comment"># option -d : donot show the log</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># stop all services</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rebuild docker container because of docker image's changes</span></span><br><span class="line">docker-compose up -d --force-recreate --build postgresql</span><br></pre></td></tr></table></figure><h4 id="Docker-commands"><a href="#Docker-commands" class="headerlink" title="Docker commands"></a>Docker commands</h4><figure class="highlight sh"><figcaption><span>docker commands</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show list of active docker containers</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># Show list of inused and unneeded docker containers</span></span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove unneeded/unused docker containers</span></span><br><span class="line">docker container prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove unneeded/unused (&lt;none&gt;) docker images</span></span><br><span class="line">docker image prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove inused and unneeded volumes</span></span><br><span class="line">docker volume prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># login to container project_mysql</span></span><br><span class="line">docker <span class="built_in">exec</span> -ti project_mysql bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># login to container project_redis</span></span><br><span class="line">docker <span class="built_in">exec</span> -ti project_redis sh</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;There are about billion of docker commands. In this article will the important and useful commands be hightlighted.&lt;/p&gt;
&lt;img src=&quot;https:/
      
    
    </summary>
    
      <category term="infrastructure" scheme="https://salnhan.github.io/categories/infrastructure/"/>
    
    
      <category term="docker" scheme="https://salnhan.github.io/tags/docker/"/>
    
      <category term="docker-compose" scheme="https://salnhan.github.io/tags/docker-compose/"/>
    
  </entry>
  
  <entry>
    <title>Common postgreSQL commands</title>
    <link href="https://salnhan.github.io/2018/04/16/postgres/"/>
    <id>https://salnhan.github.io/2018/04/16/postgres/</id>
    <published>2018-04-16T10:55:43.000Z</published>
    <updated>2019-07-16T19:48:24.318Z</updated>
    
    <content type="html"><![CDATA[<p>Common postgreSQL commands</p><img src="https://www.postgresql.org/media/img/about/press/elephant.png" class="logo-icon" width="150" height="120" title="postgreSQL logo"><h4 id="Basic-PostgeSQL-commands"><a href="#Basic-PostgeSQL-commands" class="headerlink" title="Basic PostgeSQL commands"></a>Basic PostgeSQL commands</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># switch postgres</span></span><br><span class="line">sudo su - postgres</span><br><span class="line"><span class="comment">#call psql</span></span><br><span class="line">psql</span><br><span class="line"><span class="comment"># show call database</span></span><br><span class="line">\l</span><br><span class="line"></span><br><span class="line"><span class="comment">## connect to database</span></span><br><span class="line">\c database_name</span><br><span class="line"></span><br><span class="line"><span class="comment">## show all tables of database;</span></span><br><span class="line">\dt</span><br><span class="line"></span><br><span class="line"><span class="comment"># show columns of a table;</span></span><br><span class="line">\d+ table_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># disconnect a database</span></span><br><span class="line">\q</span><br><span class="line"></span><br><span class="line"><span class="comment"># show content of a table</span></span><br><span class="line">select * from table_name;</span><br><span class="line"></span><br><span class="line"><span class="comment"># clear table</span></span><br><span class="line">TRUNCATE table_name CASCADE;</span><br><span class="line"></span><br><span class="line"><span class="comment"># drop database</span></span><br><span class="line">REVOKE CONNECT ON DATABASE database_name FROM public;</span><br><span class="line">SELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE pg_stat_activity.datname = <span class="string">'database_name'</span>;</span><br><span class="line">DROP DATABASE database_name;</span><br><span class="line"></span><br><span class="line"><span class="comment"># create database</span></span><br><span class="line">CREATE DATABASE database_name;</span><br><span class="line"></span><br><span class="line"><span class="comment"># create database user</span></span><br><span class="line">createuser -S -D -R -P -l datastore_default;</span><br><span class="line">createdb -O ckan_default datastore_default -E utf-8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># grant select permissions for read-only user</span></span><br><span class="line">GRANT CONNECT ON DATABASE <span class="string">"datastore_default"</span> TO <span class="string">"datastore_default"</span>;</span><br><span class="line">GRANT USAGE ON SCHEMA public TO <span class="string">"datastore_default"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># grant access to current tables and views to read-only user</span></span><br><span class="line">GRANT SELECT ON ALL TABLES IN SCHEMA public TO <span class="string">"datastore_default"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># grant access to new tables and views by default</span></span><br><span class="line">ALTER DEFAULT PRIVILEGES FOR USER <span class="string">"ckan_default"</span> IN SCHEMA public</span><br><span class="line">  GRANT SELECT ON TABLES TO <span class="string">"datastore_default"</span>;</span><br></pre></td></tr></table></figure><h4 id="PostgeSQL-in-Docker"><a href="#PostgeSQL-in-Docker" class="headerlink" title="PostgeSQL in Docker"></a>PostgeSQL in Docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import dump to docker container </span></span><br><span class="line">cat full-backup-1d.sql | docker <span class="built_in">exec</span> -i rlp_ckan_tpp_db pg_restore  -U postgres -d ckan_default</span><br></pre></td></tr></table></figure><p><strong><em>Links</em></strong></p><ul><li><a href="https://www.postgresql.org/" target="_blank" rel="noopener">https://www.postgresql.org/</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Common postgreSQL commands&lt;/p&gt;
&lt;img src=&quot;https://www.postgresql.org/media/img/about/press/elephant.png&quot; class=&quot;logo-icon&quot; width=&quot;150&quot; hei
      
    
    </summary>
    
      <category term="postgreSQL" scheme="https://salnhan.github.io/categories/postgreSQL/"/>
    
    
      <category term="postgres" scheme="https://salnhan.github.io/tags/postgres/"/>
    
  </entry>
  
  <entry>
    <title>Using bower</title>
    <link href="https://salnhan.github.io/2018/03/05/manage-frontend-frameworks-with-bower/"/>
    <id>https://salnhan.github.io/2018/03/05/manage-frontend-frameworks-with-bower/</id>
    <published>2018-03-05T17:46:08.000Z</published>
    <updated>2019-05-30T21:50:22.073Z</updated>
    
    <content type="html"><![CDATA[<p>Web sites are made of lots of things — frameworks, libraries, assets, and utilities. Bower manages all these things for you.<br>Keeping track of all these packages and making sure they are up to date (or set to the specific versions you need) is tricky. Bower to the rescue!Bower can manage components that contain HTML, CSS, JavaScript, fonts or even image files. Bower doesn’t concatenate or minify code or do anything else - it just installs the right versions of the packages you need and their dependencies.</p><a class="fancybox" href="https://bower.io/img/bower-logo.svg" title="Sunrise" target="_blank" rel="noopener"><img src="https://bower.io/img/bower-logo.svg" alt="Sunrise"><h3 id="Install-bower"><a href="#Install-bower" class="headerlink" title="Install bower"></a>Install bower</h3><p><strong>Prerequisite</strong><br> node muss be installed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bower muss be installed globally</span></span><br><span class="line">$ npm install -g bower</span><br></pre></td></tr></table></figure><h3 id="Create-file-bower-json"><a href="#Create-file-bower-json" class="headerlink" title="Create file bower.json"></a>Create file bower.json</h3><p>in your project’s folder run following command complete the requisitions (you can press enter):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower init</span><br></pre></td></tr></table></figure><p>File bower.json will be created in your project’s folder like:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-theme-rockon-blog"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"authors"</span>: [</span><br><span class="line">    <span class="string">"salnhan &lt;mascit10@gmail.com&gt;"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="attr">"homepage"</span>: <span class="string">"https://github.com/salnhan/hexo-theme-rockon-blog"</span>,</span><br><span class="line">  <span class="attr">"ignore"</span>: [</span><br><span class="line">    <span class="string">"**/.*"</span>,</span><br><span class="line">    <span class="string">"node_modules"</span>,</span><br><span class="line">    <span class="string">"bower_components"</span>,</span><br><span class="line">    <span class="string">"test"</span>,</span><br><span class="line">    <span class="string">"tests"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="configure-your-current-working-directory-in-bowerrc"><a href="#configure-your-current-working-directory-in-bowerrc" class="headerlink" title="configure your current working directory in .bowerrc"></a>configure your current working directory in .bowerrc</h3><p>you can define in <code>.bowerrc</code>, in which directory the installed packages will be stored</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"directory"</span> : <span class="string">"source/components"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>More configuration in .bowerrc can be found <a href="https://bower.io/docs/config/" target="_blank" rel="noopener">hier</a></p><h3 id="Install-new-package-and-save-it-to-bower-json"><a href="#Install-new-package-and-save-it-to-bower-json" class="headerlink" title="Install new package and save it to bower.json"></a>Install new package and save it to bower.json</h3><p><strong>If you want to install the newest version of package</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install bootstrap with current version (4.1.1)</span></span><br><span class="line">$ bower install bootstrap --save</span><br></pre></td></tr></table></figure><p>Now have a look to file bower.json:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-theme-rockon-blog"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"authors"</span>: [</span><br><span class="line">    <span class="string">"salnhan &lt;mascit10@gmail.com&gt;"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="attr">"homepage"</span>: <span class="string">"https://github.com/salnhan/hexo-theme-rockon-blog"</span>,</span><br><span class="line">  <span class="attr">"ignore"</span>: [</span><br><span class="line">    <span class="string">"**/.*"</span>,</span><br><span class="line">    <span class="string">"node_modules"</span>,</span><br><span class="line">    <span class="string">"bower_components"</span>,</span><br><span class="line">    <span class="string">"test"</span>,</span><br><span class="line">    <span class="string">"tests"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"bootstrap"</span>: <span class="string">"^4.1.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>If you want to install the specify version of package</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install bootstrap with version 3.0.0</span></span><br><span class="line">$ bower install bootstrap<span class="comment">#3.0.0 --save</span></span><br></pre></td></tr></table></figure><p><strong>useful frontend packages can be install via bower</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install jquery with current version</span></span><br><span class="line">$ bower install jquery --save</span><br><span class="line"><span class="comment"># install bootstrap with current version</span></span><br><span class="line">$ bower install bootstrap --save</span><br><span class="line"><span class="comment"># install fontawesome with current version</span></span><br><span class="line">$ bower install fontawesome --save</span><br><span class="line"><span class="comment"># install parallax.js with current version</span></span><br><span class="line">$ bower install parallax.js --save</span><br></pre></td></tr></table></figure><h3 id="Install-all-packages-in-bower-json"><a href="#Install-all-packages-in-bower-json" class="headerlink" title="Install all packages in bower.json"></a>Install all packages in bower.json</h3><p>To install all packages in bower.json, just run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install</span><br></pre></td></tr></table></figure><h3 id="Uninstall-package-and-remove-it-from-bower-json"><a href="#Uninstall-package-and-remove-it-from-bower-json" class="headerlink" title="Uninstall package and remove it from bower.json"></a>Uninstall package and remove it from bower.json</h3><p>To uninstall a package and remove it from the bower.json, just run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower uninstall bootstrap --save</span><br></pre></td></tr></table></figure><h3 id="Clear-bower-cache"><a href="#Clear-bower-cache" class="headerlink" title="Clear bower cache"></a>Clear bower cache</h3><p>Bower uses cache to save installed packages. This means, bower will download packages at the first time. At the next install will bower use the package in cache instead of connection to source</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># first install of jquery (version 3.3.1)</span></span><br><span class="line">$ bower install jquery<span class="comment">#3.3.1 --save</span></span><br><span class="line">bower jquery<span class="comment">#3.3.1            cached https://github.com/jquery/jquery-dist.git#3.3.1</span></span><br><span class="line">bower jquery<span class="comment">#3.3.1            validate 3.3.1 against https://github.com/jquery/jquery-dist.git#3.3.1</span></span><br><span class="line">bower jquery<span class="comment">#3.3.1            install jquery#3.3.1</span></span><br></pre></td></tr></table></figure><p>If you want to clear bower cache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower cache clear</span><br></pre></td></tr></table></figure><p><strong><em>Links:</em></strong></p><ul><li><a href="https://bower.io/" target="_blank" rel="noopener">Bower Homepage</a></li><li><a href="https://bower.io/" target="_blank" rel="noopener">Bower Configuration</a></li></ul></a>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Web sites are made of lots of things — frameworks, libraries, assets, and utilities. Bower manages all these things for you.&lt;br&gt;Keeping t
      
    
    </summary>
    
      <category term="frontend" scheme="https://salnhan.github.io/categories/frontend/"/>
    
    
      <category term="bower" scheme="https://salnhan.github.io/tags/bower/"/>
    
      <category term="frontend" scheme="https://salnhan.github.io/tags/frontend/"/>
    
  </entry>
  
  <entry>
    <title>Writing blog post by using hexo framework</title>
    <link href="https://salnhan.github.io/2018/02/01/intro/"/>
    <id>https://salnhan.github.io/2018/02/01/intro/</id>
    <published>2018-02-01T13:45:10.000Z</published>
    <updated>2019-06-20T15:43:55.056Z</updated>
    
    <content type="html"><![CDATA[<p>In this blog</p><ul><li>A short introduction to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo Framework</a>: installation and setup</li><li>Creating a blog post in markdown form</li><li>Hosting blogs to <a href="https://github.com" target="_blank" rel="noopener">GitHub</a></li></ul><h4 id="Hexo-short-introduction"><a href="#Hexo-short-introduction" class="headerlink" title="Hexo - short introduction"></a>Hexo - short introduction</h4><p><a href="https://hexo.io" target="_blank" rel="noopener">Hexo Framework</a> is a fast, simple &amp; powerful blog framework based on nodejs.</p><img src="https://hexo.io/icon/favicon-196x196.png" class="logo-icon" width="70" height="70" title="hexo logo"><p>You can write posts in <a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a> or other languages and <strong>hexo</strong> generates statics files with a beautiful theme in seconds</p><p>In addition offers <strong>Hexo</strong> alot of <a href="https://hexo.io/plugins/" target="_blank" rel="noopener">plugins</a>, which make it easy to extend functions without modifying the source code of the core module</p><h4 id="Install-Hexo"><a href="#Install-Hexo" class="headerlink" title="  Install Hexo"></a><i class="far fa-save"></i>  Install Hexo</h4><p>Before installing <strong>hexo</strong> you do need to have a couple of other thing installed first:</p><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li><li><a href="https://git-scm.com/book/de/v1/Los-geht%E2%80%99s-Git-installieren" target="_blank" rel="noopener">git</a></li></ul><p><strong>Hexo</strong> can be installed with npm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install hexo-cli global</span></span><br><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h4 id="Setup"><a href="#Setup" class="headerlink" title="  Setup"></a><i class="fas fa-wrench"></i>  Setup</h4><p>Now is <strong>Hexo</strong> ready to use. You should do some setup for your project</p><h5 id="Initialize"><a href="#Initialize" class="headerlink" title="Initialize"></a>Initialize</h5><figure class="highlight bash"><figcaption><span>Initalise project folder</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># i want to save my blog folder in `workspace/Code/node-projects`</span></span><br><span class="line">$ <span class="built_in">cd</span> workspace/Code/node-projects</span><br><span class="line"><span class="comment"># install blog folder `rock-on-blogs`</span></span><br><span class="line">$ hexo init rock-on-blogs</span><br><span class="line"><span class="comment"># cd rock-on-blogs</span></span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>Once initialised, the structure of your project look like this:</p><pre>    .    ├── _config.yml    ├── package.json    ├── scaffolds    ├── source    |    ├── _drafts    |    └── _posts    └── themes</pre><p>You will see installed dependencies in <strong>package.json</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"hexo"</span>: &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"3.8.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.8.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"^1.0.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.4"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.3"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-feed"</span>: <span class="string">"^1.2.2"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.2.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.3.0"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^1.0.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.1"</span>,</span><br><span class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.2.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"gulp"</span>: <span class="string">"^4.0.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>More info about <a href="https://hexo.io/docs/setup" target="_blank" rel="noopener">config files</a></p><h5 id="Starting-a-local-server"><a href="#Starting-a-local-server" class="headerlink" title="Starting a local server"></a>Starting a local server</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>Your website will run at <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> by default. When the server is running, Hexo will watch for file changes and update automatically so it’s not necessary to manually restart the server. You need to refresh your browser if any changes in your blog file.</p><p>If you want to use another port</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server -p 5000</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h4 id="Creating-and-writing-a-new-post"><a href="#Creating-and-writing-a-new-post" class="headerlink" title="Creating and writing a new post"></a>Creating and writing a new post</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>In <code>source/_post</code> folder will you see the file <code>my-new-post.md</code>.</p><p>You can now write your blog in the <code>my-new-post.md</code>.</p><p><strong><em>More info:</em></strong> </p><ul><li><a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></li><li><a href="https://hexo.io/docs/tag-plugins" target="_blank" rel="noopener">Blog quote/Iframe/Include Code</a></li></ul><h4 id="Deploy-to-remote-sites-github"><a href="#Deploy-to-remote-sites-github" class="headerlink" title="Deploy to remote sites (github)"></a>Deploy to remote sites (github)</h4><p>Commit your changes first, then execute</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove all static files</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="comment"># create static files</span></span><br><span class="line">$ hexo generate</span><br><span class="line"><span class="comment"># deploy to remote server</span></span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><p><strong><em>Links:</em></strong></p><ul><li><a href="https://hexo.io/docs/" target="_blank" rel="noopener">Hexo Documentation</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;In this blog&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A short introduction to &lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo Framework&lt;/a&gt;: installati
      
    
    </summary>
    
      <category term="hexo" scheme="https://salnhan.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="https://salnhan.github.io/tags/hexo/"/>
    
      <category term="blog" scheme="https://salnhan.github.io/tags/blog/"/>
    
      <category term="github&#39;s page" scheme="https://salnhan.github.io/tags/github-s-page/"/>
    
  </entry>
  
</feed>
